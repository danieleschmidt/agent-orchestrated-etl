# SonarQube configuration for Agent Orchestrated ETL
# See: https://docs.sonarqube.org/latest/analysis/analysis-parameters/

# Project identification
sonar.projectKey=terragon-labs_agent-orchestrated-etl
sonar.projectName=Agent Orchestrated ETL
sonar.projectVersion=0.0.1
sonar.organization=terragon-labs

# Source code configuration
sonar.sources=src
sonar.tests=tests
sonar.language=py
sonar.sourceEncoding=UTF-8

# Python specific settings
sonar.python.version=3.8,3.9,3.10,3.11
sonar.python.coverage.reportPaths=coverage.xml
sonar.python.xunit.reportPath=pytest-report.xml
sonar.python.bandit.reportPaths=bandit-report.json
sonar.python.pylint.reportPaths=pylint-report.json

# Exclusions
sonar.exclusions=**/*_test.py,**/test_*.py,tests/**/*,scripts/**/*,docs/**/*,build/**/*,dist/**/*,*.egg-info/**/*,.nox/**/*,chaos-engineering/**/*

# Test exclusions
sonar.test.exclusions=src/**/*

# Coverage exclusions
sonar.coverage.exclusions=tests/**/*,scripts/**/*,**/conftest.py,noxfile.py,setup.py

# Duplication exclusions
sonar.cpd.exclusions=tests/**/*,scripts/**/*

# Analysis parameters
sonar.qualitygate.wait=true
sonar.pullrequest.base=main
sonar.pullrequest.branch=${GITHUB_HEAD_REF}
sonar.pullrequest.key=${GITHUB_EVENT_NUMBER}
sonar.pullrequest.provider=github
sonar.pullrequest.github.repository=terragon-labs/agent-orchestrated-etl

# Quality rules
sonar.issue.ignore.multicriteria=e1,e2,e3,e4

# Ignore specific rules for test files
sonar.issue.ignore.multicriteria.e1.ruleKey=python:S5795
sonar.issue.ignore.multicriteria.e1.resourceKey=tests/**/*

# Ignore too many parameters rule for complex functions
sonar.issue.ignore.multicriteria.e2.ruleKey=python:S107
sonar.issue.ignore.multicriteria.e2.resourceKey=src/**/*

# Ignore cognitive complexity for agent coordination logic
sonar.issue.ignore.multicriteria.e3.ruleKey=python:S3776
sonar.issue.ignore.multicriteria.e3.resourceKey=src/agent_orchestrated_etl/agents/coordination.py

# Ignore file line count rule for main orchestrator
sonar.issue.ignore.multicriteria.e4.ruleKey=python:S104
sonar.issue.ignore.multicriteria.e4.resourceKey=src/agent_orchestrated_etl/orchestrator.py

# Security hotspots
sonar.security.hotspots.inheritFromParent=true

# New code definition
sonar.newCode.referenceBranch=main